<app-header></app-header>
<div class="container">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="#">Home</a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">Categorias</li>
    </ol>
  </nav>
  <div class="jumbotron">
    <div class="actions">
      <button class="btn btn-success" routerLink="nova-categoria">Novo categoria</button>
    </div>
    <table class="table table-striped">
      <thead>
        <tr>
          <td>NOME</td>
          <td>CRIADO POR</td>
          <td>DATA</td>
          <td width="200">AÇÃO</td>
        </tr>
      </thead>
      <tbody>

        <tr *ngFor="let categoria of categorias | async ">
          <td>{{ categoria.name }}</td>
          <td>{{ categoria.author }}</td>
          <td>{{ categoria.createdAt | date: 'dd/MM/yyyy'}}</td>
          <td>
            <button class="btn btn-primary" (click)="updateCategory(categoria.key)" data-toggle="modal" data-target="#biblioteca">
              <i class="fas fa-reply"></i> Atualizar</button>
            <button class="btn btn-danger" (click)="deleteItem(categoria.key)">Excluir</button>
          </td>
        </tr>

      </tbody>
      <tfoot>
        <tr>
            <td>NOME</td>
          <td>CRIADO POR</td>
          <td>DATA</td>
          <td width="200">AÇÃO</td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>

<!-- Modal -->
<div class="modal fade" id="biblioteca" tabindex="-1" role="dialog" aria-labelledby="biblioteca" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <app-atualiza-categoria [keyCategoria]='keyCategoria'></app-atualiza-categoria>
  </div>
</div>

<app-footer></app-footer>